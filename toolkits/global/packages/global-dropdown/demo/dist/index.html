<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>@springernature/global-dropdown</title>
		<style>
			/**
 * @springernature/global-dropdown
 * Default skin settings
 * Replace these in your application
 *
 */
.c-dropdown {
	position: relative;
	display: inline-block;
}

.c-dropdown__menu {
	list-style: none;
	margin: 0;
	padding: 0;
	margin-top: 10px;
	position: absolute;
	color: #666;
	background-color: white;
	border: solid #c0c 1px;
	box-shadow: 0 0 5px #c8c8c8;
	width: 100%;
}

.c-dropdown__button {
	border: solid green 1px;
	background-color: yellow;
	color: red;
	display: flex;
	width: 192px;
	max-width: 100%;
	padding: 10px;
	text-align: left;
}

.c-dropdown__button:hover {
	background-color: white;
	color: blue;
}

.c-dropdown__menu-button {
	border: 0;
	color: black;
	position: relative;
	padding: 0;
	background-color: transparent;
	display: block;
	margin-right: -1px;
	margin-left: -1px;
	text-align: left;
}

.c-dropdown__menu-button * {
	color: inherit;
	text-decoration: none;
	fill: inherit;
}

.c-dropdown__menu-button > * {
	margin: 0;
	width: 100%;
	display: block;
	padding: 12px 5%;
	box-sizing: border-box;
}

.c-dropdown__menu-button:first-child {
	margin-top: -1px;
}

.c-dropdown__menu-button:last-child {
	margin-bottom: -1px;
}

.c-dropdown__menu-button:hover {
	color: white;
	background-color: #666;
}

.c-dropdown__menu-button a:focus {
	outline-offset: -2px;
}

.c-dropdown__menu-button:not(:first-child):before {
	content: "";
	position: absolute;
	top: 0;
	height: 1px;
	width: 90%;
	left: 0;
	right: 0;
	margin: auto;
	background-color: #c0c;
}

.c-dropdown__menu-button:hover + .c-dropdown__menu-button:before,
.c-dropdown__menu-button:hover:before {
	display: none;
}

.c-dropdown__button svg {
	margin-left: auto;
	align-self: center;
}

.c-dropdown__button g {
	fill: currentColor;
}

.c-dropdown__button:hover g {
	fill: currentColor;
}

		</style>
	</head>
	<body style="padding:2%">
		<h2>Example dropdown</h2>
<div class="c-dropdown">
	<button aria-expanded="false" class="c-dropdown__button" data-dropdown>dropdown <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="6" viewBox="0 0 10 6"><defs><path id="chevron-down-a" d="M12.5857864,13 L9.29289322,9.70710678 C8.90236893,9.31658249 8.90236893,8.68341751 9.29289322,8.29289322 C9.68341751,7.90236893 10.3165825,7.90236893 10.7071068,8.29289322 L14.7071068,12.2928932 C15.0976311,12.6834175 15.0976311,13.3165825 14.7071068,13.7071068 L10.7071068,17.7071068 C10.3165825,18.0976311 9.68341751,18.0976311 9.29289322,17.7071068 C8.90236893,17.3165825 8.90236893,16.6834175 9.29289322,16.2928932 L12.5857864,13 Z"/></defs><g fill-rule="evenodd" transform="translate(-7 -10)"><rect width="24" height="24" opacity="0"/><use fill-rule="nonzero" transform="rotate(90 12 13)" xlink:href="#chevron-down-a"/></g></svg></button>
	<ul class="c-dropdown__menu">
		<li class="c-dropdown__menu-button"><a data-dropdown-item download href="#"><span class="u-visually-hidden">Download</span> file 1</a></li>
		<li class="c-dropdown__menu-button"><a data-dropdown-item download href="#"><span class="u-visually-hidden">Download</span> file 2</a></li>
		<li class="c-dropdown__menu-button"><a data-dropdown-item download href="#"><span class="u-visually-hidden">Download</span> file 3</a></li>
	</ul>
</div>
		<script>
			(function () {
  'use strict';

  function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
  }

  function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
  }

  function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  /* eslint no-use-before-define: ["error", { "functions": false, "variables": false }] */
  var actions = {
    ESC: ['Escape', 'Esc', 27],
    UP: ['ArrowUp', 38],
    DOWN: ['ArrowDown', 40]
  };
  var dropdownButtons;
  var dropdownItems;

  var normaliseKeyEvent = function normaliseKeyEvent(event) {
    return event.key || event.keyCode;
  };

  var keyEventIsInAction = function keyEventIsInAction(event, targetAction) {
    return targetAction.includes(normaliseKeyEvent(event));
  };

  var escapekeyCloseDropdown = function escapekeyCloseDropdown(event) {
    if (keyEventIsInAction(event, actions.ESC)) {
      dropdownButtons.forEach(function (button) {
        closeDropdown(button);
        button.focus();
      });
    }
  };

  var closeDropdown = function closeDropdown(button) {
    button.setAttribute('aria-expanded', 'false');
    button.nextElementSibling.style.display = 'none';
    button.querySelector('svg').style.transform = null;
    document.removeEventListener('keydown', escapekeyCloseDropdown);
  };

  var openDropdown = function openDropdown(button) {
    button.setAttribute('aria-expanded', 'true');
    button.nextElementSibling.style.display = null;
    button.querySelector('svg').style.transform = 'rotate(180deg)';
    button.nextElementSibling.querySelector('[data-dropdown-item]').focus();
    document.addEventListener('keydown', escapekeyCloseDropdown);
  };

  var toggleDropdown = function toggleDropdown(button) {
    if (button.getAttribute('aria-expanded') === 'false') {
      openDropdown(button);
    } else if (button.getAttribute('aria-expanded') === 'true') {
      closeDropdown(button);
    }
  };

  var handleUpArrow = function handleUpArrow(index, event) {
    if (keyEventIsInAction(event, actions.UP)) {
      event.preventDefault();

      if (index === 0) {
        dropdownItems[dropdownItems.length - 1].focus();
      } else {
        dropdownItems[index - 1].focus();
      }
    }
  };

  var handleDownArrow = function handleDownArrow(index, event) {
    if (keyEventIsInAction(event, actions.DOWN)) {
      event.preventDefault();

      if (index === dropdownItems.length - 1) {
        dropdownItems[0].focus();
      } else {
        dropdownItems[index + 1].focus();
      }
    }
  };

  var init = function init() {
    var dropdownSelector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '[data-dropdown]';
    var itemSelector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '[data-dropdown-item]';
    dropdownButtons = _toConsumableArray(document.querySelectorAll(dropdownSelector));
    dropdownItems = _toConsumableArray(document.querySelectorAll(itemSelector));

    _toConsumableArray(document.querySelectorAll('.c-dropdown__menu')).forEach(function (dropdown) {
      dropdown.style.display = 'none';
    });

    dropdownButtons.forEach(function (button) {
      button.addEventListener('click', toggleDropdown.bind(null, button));
    });
    document.addEventListener('keyup', function () {
      if (!document.activeElement.matches('[data-dropdown-item]')) {
        dropdownButtons.forEach(function (button) {
          closeDropdown(button);
        });
      }
    });
    dropdownItems.forEach(function (item, index) {
      item.addEventListener('keydown', function (event) {
        handleUpArrow(index, event);
        handleDownArrow(index, event);
      });
    });
  };

  init('[data-dropdown]', '[data-dropdown-item]');

})();

		</script>
	</body>
</html>